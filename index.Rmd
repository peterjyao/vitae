---
title: Peter YAO
image: "assets/peter.png"
links:
  - label: LinkedIn
    url: "https://linkedin.com/in/peterjyao"
  - label: Email
    url: "mailto:peterjyao@gmail.com"
  - label: Print CV
    url: "assets/cv.pdf"
output: postcards::solana
site: distill::distill_website
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, results = "asis")
```

```{r imports}
# library("glue")
```

```{r data}
data_source_root <- "https://raw.githubusercontent.com/peterjyao/cv/main/data"

# experience <- read.csv(url(glue("{data_source_root}/experience.csv")))
# education <- read.csv(url(glue("{data_source_root}/education.csv")))
# languages <- read.csv(url(glue("{data_source_root}/languages.csv")))

experience <- read.csv(url(paste0(data_source_root, "/", "experience.csv")))
education <- read.csv(url(paste0(data_source_root, "/", "education.csv")))
languages <- read.csv(url(paste0(data_source_root, "/", "languages.csv")))
```

<p style="margin-bottom:2cm;"></p>

<!---
:::: {style="display: flex;"}
--->

:::: {style="display: grid; grid-template-columns: 1fr 1fr; grid-column-gap: 10px;"}

::: {}
### Experience

```{r experience}
experience$dates <- gsub("\'", "20", experience$dates) 
experience$dates <- gsub("-", " - ", experience$dates) 

# experience$description_formatted <- glue(
#     .envir = experience,
#     "**{role}**&nbsp;&nbsp;|&nbsp;&nbsp;{dates}",
#     "*{org}*&nbsp;&nbsp;|&nbsp;&nbsp;{place}",
#     "{description}",
#     .sep = "<br>"
#   )

experience$description_short <- sapply(
  strsplit(experience$description, ":"), 
  function(x) x[1]
  )
  
experience$description_formatted <- 
    with(
      experience,
      paste0(
        "**", role, "**<br>", dates, "<br>",
        "*", org, "*<br>", place, "<br>",
        description_short))

cat(paste(experience$description_formatted, collapse = "<br><br>"))
```
:::

::: {}
### Education

```{r education}
# education$description_formatted <- glue(
#     .envir = education,
#     "**{degree}**&nbsp;&nbsp;|&nbsp;&nbsp;{dates}",
#     "*{institution}*&nbsp;&nbsp;|&nbsp;&nbsp;{place}",
#     "{thesis}",
#     .sep = "<br>"
#   )

education$description_formatted <- 
    with(
      education,
      paste0(
        "**", degree, "**<br>", dates, "<br>",
        "*", institution, "*"))

cat(paste(education$description_formatted, collapse = "<br><br>"))
```

<br>

### Languages

```{r languages}
# languages$description_formatted <- glue(
#     .envir = languages,
#     "*{language}*: {level}"
#   )

languages$description_formatted <-
  with(
    languages,
    paste0("*", language, "*: ", level
    )
  )

cat(paste(languages$description_formatted, collapse = "<br>"))
```
:::

::::
